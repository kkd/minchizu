<ion-header>

  <ion-navbar>
    <ion-title>みんなの一覧 <small>※クリックで詳細表示</small></ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="displayMap()">
        <ion-icon name="sync"></ion-icon>
      </button>
      <button ion-button icon-only (click)="searchPopOver($event)">
        <ion-icon name="funnel"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content no-padding>
  
  <ion-list>
    <div *ngFor="let m of ourmaps; index as index;">
      <button *ngIf="m.oldFlg" color="light" ion-item [navPush]="'OurlistDetailPage'" [navParams]="{ourmap:m, pkey:m.pkey}">
        <ion-row>
          <ion-col col-1>
            <img src="../../../assets/mapmarker/{{m.category}}.png"/>
          </ion-col>
          <ion-col>
            <h2>{{ m.title }}</h2>
            <p>
              <small *ngIf="m.infoDate">投稿日時:{{ m.infoDate | date:'short' }}</small><br>
              <small>投稿者:{{ m.contributor }}</small><br>
              <small *ngIf="m.viewPeriodFrom || m.viewPeriodTo">掲載期間:{{ m.viewPeriodFrom | date:"shortDate" }}〜{{ m.viewPeriodTo | date:"shortDate" }}</small>
            </p>
          </ion-col>
        </ion-row>
      </button>

      <button *ngIf="!m.oldFlg" ion-item [navPush]="'OurlistDetailPage'" [navParams]="{ourmap:m, pkey:m.pkey}">
        <ion-row>
          <ion-col col-1>
            <img src="../../../assets/mapmarker/{{m.category}}.png"/>
          </ion-col>
          <ion-col>
            <h2>{{ m.title }}</h2>
            <p>
              <small *ngIf="m.infoDate">投稿日時:{{ m.infoDate | date:'short' }}</small><br>
              <small>投稿者:{{ m.contributor }}</small><br>
              <small *ngIf="m.viewPeriodFrom || m.viewPeriodTo">掲載期間:{{ m.viewPeriodFrom | date:"shortDate" }}〜{{ m.viewPeriodTo | date:"shortDate" }}</small>
            </p>
          </ion-col>
        </ion-row>
      </button>
    </div>
  </ion-list>
  
  <!--
  <ion-card *ngFor="let m of ourmaps">
    <ion-card-content>
      <ion-card-title>
        {{m.title}}
        <p>
          <small *ngIf="m.infoDate">投稿日時:{{ m.infoDate | date:'short' }}</small><br>
          <small>投稿者:{{ m.contributor }}</small><br>
          <small *ngIf="m.viewPeriodFrom || m.viewPeriodTo">掲載期間：{{ m.viewPeriodFrom | date:"shortDate" }}〜{{ m.viewPeriodTo | date:"shortDate" }}</small>
        </p>
      </ion-card-title>
      <ion-thumbnail text-left *ngFor="let p of m.photos; first as first; last as last; index as i;">
        <img src="{{p.fullImage}}"/>
      </ion-thumbnail>
      <div [innerHtml]="m.description"></div>
    </ion-card-content>
-->
    <!--
    <ion-row>
      <ion-col>
        <button ion-button icon-start clear small>
          <ion-icon name="thumbs-up"></ion-icon>
          <div>ありがとう</div>
        </button>
      </ion-col>
      <ion-col>
        <button ion-button icon-start clear small>
          <ion-icon name="bookmark"></ion-icon>
        </button>
      </ion-col>
    </ion-row>
    -->
<!--  </ion-card>-->

</ion-content>
